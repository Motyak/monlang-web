<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width">
        <title>monlang - Code Visualizer</title>

        <style>
            body {
                /* reset css */
                margin: 0px;

                display: inline-block;

                border: solid;
                border-width: 1px;
                border-style: dashed;
                border-color: red;
            }

            pre {
                /* reset css */
                margin: 0px;

                display: inline-block;
            }

            body {
                background-color: #F5F5F5;
            }

            code {
                font-size: 1.25rem;
                line-height: 1.15;

                /* neutral-consolas */
                font-family: Consolas, monospace;
                font-weight: 400;
                font-style: normal;
                color: rgba(4, 81, 165, 1)
            }

            ::selection {
                background-color: rgba(0, 120, 215, 1);
                color: rgba(255, 255, 255, 1);
            }

            .unimportant-consolas {
                font-family: Consolas, monospace;
                font-weight: 400;
                font-style: italic;
                color: rgba(4, 81, 165, 0.5);
            }

            .important-consolas {
                font-family: Consolas, monospace;
                font-weight: 700;
                font-style: normal;
                color: rgba(27, 77, 132, 1);
            }
        </style>            
    </head>
    <body>

<pre><code class="unimportant-consolas">/*
calculate inverse power tower of order 2, e.g.: (27) = 3^^2 = 3^3
*/
</code><code class="important-consolas">let </code><code>inv-tower (n):{
    [ Int(n) >= 1 ] || err_invalid-arg()
    {
        [ n == 1 ]
        </code><code class="important-consolas">return </code><code>1
    }
    Float(log_e(n) / lambert-w(log_e(n)).real)
}

</code><code class="important-consolas">let </code><code>input 2
</code><code class="important-consolas">let </code><code>inv-tower_ inv-tower(input)
</code><code class="important-consolas">let </code><code>truncated-inv-tower Int::from(inv-tower_ * 1000) |> Frac(1000)
print(truncated-inv-tower) </code><code class="unimportant-consolas">// prints 1.559
</code><code>print(Float(1.559) ^ Float(1.559)) </code><code class="unimportant-consolas">// prints 1.998237447840078
</code></pre>


    </body>
</html>
